---
layout: layouts/base.njk
pagination:
  data: projects
  size: 1
  alias: project
permalink: "case-studies/{{ project.slug }}/"
eleventyComputed:
  title: "{{ project.title }} Case Study"
---

<section class="hero-bg pt-20 pb-24">
  <div
    class="max-w-5xl mx-auto px-4 flex flex-col items-center gap-10 text-center md:flex-row md:items-center md:text-center">
    <div class="flex-1 max-w-3xl mx-auto">
      <p class="eyebrow eyebrow--wide">Case Study</p>
      <h1 class="mt-4 mb-6">{{ project.title }}</h1>
      {% if project.subtitle %}
      <p class="project-subtitle project-hero__subtitle">{{ project.subtitle }}</p>
      {% endif %}
      <p>
        {{ project.summary or project.problem }}
      </p>
      {% if project.type %}
      <div class="flex flex-wrap gap-3 mt-6">
        {% for type in project.type %}
        <span class="uppercase tracking-[0.2em] text-xs font-semibold surface-overlay px-4 py-2 rounded-full">{{ type
          }}</span>
        {% endfor %}
      </div>
      {% endif %}
      {% if project.url or project.repo %}
      <div class="mt-8 flex flex-col gap-3 items-center">
        {% if project.url %}
        <a href="{{ project.url | url }}" class="hero-cta hero-cta--secondary inline-flex" target="_blank"
          rel="noopener">Visit live site</a>
        {% endif %}
        {% if project.repo %}
        <a href="{{ project.repo | url }}" class="hero-cta hero-cta--secondary inline-flex" target="_blank"
          rel="noopener">View repository</a>
        {% endif %}
      </div>
      {% endif %}
    </div>
  </div>
</section>

<section class="py-36 surface-card section-arrow">
  <div class="max-w-5xl mx-auto px-4 grid gap-10 md:grid-cols-3 justify-items-center">
    <div class="md:col-span-2 space-y-8">
      {% if project.logo %}
      <div class="flex justify-center md:justify-start max-w-[150px]">
        <img src="{{ project.logo | url }}" alt="{{ project.title }} logo" class="max-h-20 w-full object-contain"
          loading="lazy">
      </div>
      {% endif %}
      <div>
        <p class="eyebrow eyebrow--compact">Challenge</p>
        <h2 class="text-3xl font-bold mt-4 mb-3">What they needed</h2>
        <p class="text-lg text-body-strong">{{ project.problem }}</p>
      </div>
      <div>
        <p class="eyebrow eyebrow--compact">Approach</p>
        <h2 class="text-3xl font-bold mt-4 mb-3">How we solved it</h2>
        <p class="text-lg text-body-strong">{{ project.solution }}</p>
      </div>
    </div>
    <div class="case-study-sidebar">
      <div>
        <p class="eyebrow eyebrow--compact">Completed</p>
        <p class="text-2xl font-semibold">{{ project.endDate | formatProjectDate }}</p>
      </div>
      {% if project.type %}
      <div>
        <p class="eyebrow eyebrow--compact">Services</p>
        <ul class="mt-2 space-y-1">
          {% for type in project.type %}
          <li class="text-lg capitalize">{{ type }}</li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}
      {% if project.url %}
      <div class="space-y-1">
        <p class="eyebrow eyebrow--compact">Website</p>
        <a href="{{ project.url | url }}" class="link-accent break-words block" target="_blank" rel="noopener">{{ project.url }}</a>
      </div>
      {% endif %}
      {% if project.repo %}
      <div class="space-y-1 mt-4">
        <p class="eyebrow eyebrow--compact">Repository</p>
        <a href="{{ project.repo | url }}" class="link-accent break-words block" target="_blank" rel="noopener">{{ project.repo }}</a>
      </div>
      {% endif %}
      {% if project.tools %}
      <div class="mt-4">
        <p class="eyebrow eyebrow--compact">Stack highlights</p>
        <ul class="stack-highlight-list">
          {% for toolId in project.tools %}
          {% set tool = tools | find("id", toolId) %}
          {% if tool %}
          <li class="stack-highlight-item">
            {% if tool.url %}
            <a href="{{ tool.url }}" class="stack-highlight-link" target="_blank" rel="noopener">
              {% if tool.icon %}
              <img src="{{ tool.icon }}" alt="{{ tool.name }} icon" class="w-5 h-5" loading="lazy">
              {% endif %}
              <span>{{ tool.name }}</span>
            </a>
            {% else %}
            {% if tool.icon %}
            <img src="{{ tool.icon }}" alt="{{ tool.name }} icon" class="w-5 h-5" loading="lazy">
            {% endif %}
            <span>{{ tool.name }}</span>
            {% endif %}
          </li>
          {% else %}
          <li class="stack-highlight-item">
            <span>{{ toolId }}</span>
          </li>
          {% endif %}
          {% endfor %}
        </ul>
      </div>
      {% endif %}
    </div>
  </div>
</section>

{% if project.screenshots %}
<section class="surface-dark-section surface-section relative section-arrow -mt-20 pb-20">
  <div class="section-container">
    <div class="max-w-5xl mx-auto px-4 space-y-8">
      <div class="section-heading section-heading--tight text-white">
        <p class="eyebrow eyebrow--wide text-electric-light">Gallery</p>
        <h2 class="text-3xl font-bold mt-1">Screens & flows</h2>
      </div>
      <div x-data="projectCarousel(JSON.parse($el.dataset.project))" x-init="init()" @mouseenter="stop()"
        @mouseleave="start()" @focusin="stop()" @focusout="start()" data-project='{{ project | dump }}' tabindex="0"
        aria-roledescription="carousel" aria-label="{{ project.title }} screenshots"
        class="case-study-gallery__slider case-study-gallery__slider--full relative w-full mx-auto space-y-6">
        <div class="case-study-gallery__frame relative w-full overflow-hidden bg-transparent shadow-none" style="aspect-ratio: 13 / 9;">
          <template x-for="(src, i) in images" :key="i">
            <div x-show="current === i" class="absolute inset-0" x-transition:enter="transition ease-out duration-500"
              x-transition:enter-start="translate-x-full" x-transition:enter-end="translate-x-0"
              x-transition:leave="transition ease-in duration-500" x-transition:leave-start="translate-x-0"
              x-transition:leave-end="-translate-x-full">
              <template x-if="src.toLowerCase().endsWith('.mp4') || src.toLowerCase().endsWith('.webm')">
                <video :src="src" preload="none" poster="{{ '/img/screenshots/video-poster.png' | url }}"
                  class="w-full h-full object-cover" autoplay muted loop playsinline
                  :aria-label="`${project.title} demo video`"></video>
              </template>
              <template x-if="!(src.toLowerCase().endsWith('.mp4') || src.toLowerCase().endsWith('.webm'))">
                <img :src="src" loading="lazy" class="w-full h-full object-cover"
                  :alt="`${project.title} screenshot ${i + 1}`" />
              </template>
            </div>
          </template>
        </div>
        <div class="carousel-controls mx-auto">
          <button type="button" class="carousel-arrow-btn" @click="prev()" aria-label="Previous screenshot">
            <span aria-hidden="true">‹</span>
          </button>
          <div class="flex gap-3">
            <template x-for="(src, i) in images" :key="i">
              <button type="button" @click="goTo(i)" class="carousel-dot" :class="{
                  'opacity-50': current !== i,
                  'opacity-100': current === i
                }" :aria-label="`Go to slide ${i + 1}`"></button>
            </template>
          </div>
          <button type="button" class="carousel-arrow-btn" @click="next()" aria-label="Next screenshot">
            <span aria-hidden="true">›</span>
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="max-w-4xl mx-auto px-4 text-center pt-20">
    <div class="flex flex-wrap gap-4 justify-center">
      <a href="{{ '/case-studies/' | url }}" class="hero-cta hero-cta--secondary">Back to case studies</a>
    </div>
  </div>
</section>
{% endif %}

