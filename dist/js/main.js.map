{
  "version": 3,
  "sources": ["../../src/js/main.js"],
  "sourcesContent": ["document.addEventListener(\"alpine:init\", () => {\r\n  console.log(\"[main.js] alpine:init\");\r\n  Alpine.data('projectCarousel', (project) => ({\r\n    images: Array.isArray(project.screenshots)\r\n              ? project.screenshots\r\n              : project.screenshots\r\n                ? [project.screenshots]\r\n                : [],\r\n    interval: project.interval ?? 3000,\r\n    current: 0,\r\n    timer: null,\r\n    init() {\r\n      this.start();\r\n    },\r\n    start() {\r\n      this.stop();\r\n      this.timer = setInterval(() => {\r\n        this.current = (this.current + 1) % this.images.length;\r\n      }, this.interval);\r\n    },\r\n    stop() {\r\n      clearInterval(this.timer);\r\n    },\r\n    goTo(i) {\r\n      this.current = i;\r\n    }\r\n  }));\r\n  Alpine.data('projectExplorer', ({ projects, filters }) => {\n    const toDateValue = (value) => {\n      if (!value) return 0;\n      const isoValue = /^\\d{4}-\\d{2}$/.test(value) ? `${value}-01` : value;\n      const timestamp = Date.parse(isoValue);\n      return Number.isNaN(timestamp) ? 0 : timestamp;\n    };\n\n    const normalizedProjects = projects.map(project => {\n      const clientTypeList = Array.isArray(project.clientType)\n        ? project.clientType\n        : project.clientType\n          ? [project.clientType]\n          : [];\n      return {\n        ...project,\n        clientType: clientTypeList,\n        primaryClientTypeId: clientTypeList[0] ?? null,\n        endDateValue: toDateValue(project.endDate)\n      };\n    });\n\r\n    return {\r\n      projects: normalizedProjects,\r\n      allFilters: filters,\r\n      panelFilters: [],\r\n      heroFilters: [],\r\n      selections: {},\r\n      init() {\r\n        this.panelFilters = this.allFilters.filter(f => f.placement !== \"hero\");\r\n        this.heroFilters = this.allFilters.filter(f => f.placement === \"hero\");\r\n        this.allFilters.forEach(filter => {\r\n          this.selections[filter.id] = 'all';\r\n        });\r\n        this.applyQueryParams();\r\n      },\r\n      toggle(filterId, optionId) {\r\n        this.selections[filterId] =\r\n          this.selections[filterId] === optionId ? 'all' : optionId;\r\n      },\r\n      clear(filterId) {\r\n        if (Object.prototype.hasOwnProperty.call(this.selections, filterId)) {\r\n          this.selections[filterId] = 'all';\r\n        }\r\n      },\r\n      resetAll() {\r\n        Object.keys(this.selections).forEach(key => {\r\n          this.selections[key] = 'all';\r\n        });\r\n      },\r\n      applyQueryParams() {\r\n        if (typeof window === \"undefined\") {\r\n          return;\r\n        }\r\n        const params = new URLSearchParams(window.location.search);\r\n        this.allFilters.forEach(filter => {\r\n          const paramValue = params.get(filter.id) ?? params.get(filter.field);\r\n          if (paramValue && this.isOptionValid(filter, paramValue)) {\r\n            this.selections[filter.id] = paramValue;\r\n          }\r\n        });\r\n      },\r\n      isOptionValid(filter, value) {\r\n        return filter.options?.some(opt => opt.id === value);\r\n      },\r\n      hasSelection(filterId) {\r\n        return this.selections[filterId] && this.selections[filterId] !== 'all';\r\n      },\r\n      hasActiveFilters() {\r\n        return Object.values(this.selections).some(value => value && value !== 'all');\r\n      },\r\n      isActive(filterId, optionId) {\r\n        return this.selections[filterId] === optionId;\r\n      },\r\n      optionLabel(filterId, optionId) {\r\n        const filter = this.allFilters.find(f => f.id === filterId);\r\n        if (!filter) return optionId;\r\n        const option = filter.options.find(opt => opt.id === optionId);\r\n        return option ? option.label : optionId;\r\n      },\r\n      primaryClientType(project) {\r\n        const segment = project.primaryClientTypeId ?? (Array.isArray(project.clientType) ? project.clientType[0] : project.clientType);\r\n        return segment ? this.optionLabel('clientType', segment) : '';\r\n      },\r\n      formatDate(value) {\r\n        if (!value) return '';\r\n        const date = new Date(value);\r\n        if (isNaN(date.getTime())) return value;\r\n        return date.toLocaleString('en-US', { month: 'long', year: 'numeric' });\r\n      },\r\n      activeFilterSummary() {\r\n        const parts = [];\r\n        this.allFilters.forEach(filter => {\r\n          const selection = this.selections[filter.id];\r\n          if (selection && selection !== 'all') {\r\n            parts.push(`${filter.label}: ${this.optionLabel(filter.id, selection)}`);\r\n          }\r\n        });\r\n        return parts.join(', ');\r\n      },\r\n      get filteredProjects() {\n        return this.projects\n          .filter(project => this.projectMatches(project))\n          .sort((a, b) => b.endDateValue - a.endDateValue);\n      },\n      handleHeroSelection(filterId, optionId) {\r\n        this.toggle(filterId, optionId);\r\n        if (this.selections[filterId] !== 'all') {\r\n          this.scrollToLibrary();\r\n        }\r\n      },\r\n      scrollToLibrary() {\r\n        if (typeof window === \"undefined\") {\r\n          return;\r\n        }\r\n        const target = document.getElementById(\"case-study-library\");\r\n        if (target) {\r\n          window.requestAnimationFrame(() => {\r\n            const offset = 120;\r\n            const top = target.getBoundingClientRect().top + window.scrollY - offset;\r\n            window.scrollTo({\r\n              top: top < 0 ? 0 : top,\r\n              behavior: \"smooth\"\r\n            });\r\n          });\r\n        }\r\n      },\r\n      projectMatches(project, overrides = {}) {\r\n        const combined = { ...this.selections, ...overrides };\r\n        return this.allFilters.every(filter => {\r\n          const selection = combined[filter.id];\r\n          if (!selection || selection === 'all') {\r\n            return true;\r\n          }\r\n          const fieldValue = project[filter.field];\r\n          if (Array.isArray(fieldValue)) {\r\n            return fieldValue.includes(selection);\r\n          }\r\n          return fieldValue === selection;\r\n        });\r\n      },\r\n      optionHasResults(filterId, optionId) {\r\n        return this.projects.some(project =>\r\n          this.projectMatches(project, { [filterId]: optionId })\r\n        );\r\n      }\r\n    };\r\n  });\r\n});\r\n"],
  "mappings": "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",
  "names": []
}
